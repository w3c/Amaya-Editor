<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
  <meta name="GENERATOR" content="amaya 9.4, see http://www.w3.org/Amaya/" />
  <title>Saving and Publishing in Amaya</title>
  <style type="text/css">
  </style>
  <link href="style.css" rel="stylesheet" type="text/css" />
</head>

<body xml:lang="en" lang="en">

<div>
Amaya<img alt="logo" src="../../resources/icons/22x22/logo.png" class="logo" /> 

<p class="nav"><a href="SpellChecking.html" accesskey="p"><img alt="previous"
src="../../resources/icons/misc/left.png" /></a> <a href="Manual.html"
accesskey="t"><img alt="top" src="../../resources/icons/misc/up.png" /></a>
<a href="WebDAV.html" accesskey="n"><img alt="next"
src="../../resources/icons/misc/right.png" /></a></p>
</div>

<div class="toc">
<ul>
  <li><a href="#Saving2">Saving and Publishing Amaya</a> 
    <ul>
      <li><a href="#Save">The Save Command</a></li>
      <li><a href="#Save1">The Save As Command</a></li>
      <li><a href="#Saving">Saving and characters encoding (charset)</a></li>
      <li><a href="#Saving1">Saving Documents as Text</a></li>
    </ul>
  </li>
</ul>
</div>

<div id="page_body">
<h2 id="Saving2">Saving and Publishing Amaya</h2>

<p>Amaya enables you to save (X)HTML documents either in <span
class="Link0">(X)HTML</span> or <span class="Link0">text</span> format. Other
documents (SVG, MathML or CSS) are saved according to their original format.
You can save both remote and local documents in two ways, using the <span
class="Link0"><strong>Save</strong></span> and <span
class="Link0"><strong>Save As</strong></span> commands.</p>

<p>In addition, you can change a number of Amaya publishing options using the
<strong>Publishing Preferences</strong> dialog. You open this dialog by
choosing <span class="Link0"><strong>Preferences &gt;
Publishing</strong></span> from the <strong>Edit</strong> menu.</p>

<p>Amaya does not provide any global view of a set of pages installed on a
server. However, you can save files to a remote server in the same way you
save local files, using the <span class="Link"><strong>Save</strong></span>
and <span class="link"><strong>Save As</strong></span> commands. During these
operations, Amaya also saves any newly added images.</p>

<h3 id="Save">The Save Command</h3>

<p>The <strong>Save</strong> command saves the current document to the
original location. You can access the <strong>Save</strong> command by
choosing <strong>Save</strong> from the <strong>File</strong> menu, clicking
the <strong>Save</strong> button on the button bar, or by using keyboard
shortcuts <kbd>Ctrl s</kbd>. Newly added images are saved in the same
directory automatically; confirmation is only requested when the document
name is unknown.</p>

<p>You can also fetch a document from servers by specifying the server
directory name. This is very useful when browsing, but is not supported by
the put method. In this case, Amaya detects that the document name is missing
and asks you either to use a default name or to complete the request.</p>

<p class="Note"><strong>Note</strong>:    Use the <strong>Save As</strong>
command to save your document to a different location.</p>

<h3 id="Save1">The Save As Command</h3>

<p>Choosing <strong>Save As</strong> from the <strong>File</strong> menu
opens the <strong>Save As</strong> dialog, which allows you to save the
current document with a different format and to a different location.</p>

<p>You can:</p>
<ul>
  <li>save the document only or with its resources (images, objects, style,
    scripts) to a local disk or to a remote server;</li>
  <li>embedded images and objects can be saved into the same document
    directory or a different location;</li>
  <li>embedded style (including imported style sheets and images) and scripts
    can be saved into the same document directory or a different
  location;</li>
  <li>all included URIs can be updated.</li>
</ul>

<p>The items in the dialog box are used as follows:</p>
<ul>
  <li>The <strong>Where to save</strong> field indicates where the file has
    to be written. This can be a file in the local file system (for example,
    <code>/pub/html/welcome.html</code>) or the name of a remote URI (for
    example, <code>http://www.w3.org/pub/WWW/Welcome.html</code>). 
    <p class="Note"><strong>Note:   </strong><span xml:lang="EN" lang="EN"
    style="font-weight:normal">Use</span><strong><span></span></strong>a
    complete path for the URL. You should also make sure that you have the
    rights to do a <code>PUT</code>method if it is a remote location. Refer
    to the page on <a
    href="http://www.w3.org/Amaya/User/Put.html">configuring your server to
    accept the PUT method</a> or ask your Web administrator.</p>
  </li>
</ul>
<ul>
  <li><strong>Copy Images</strong>, <strong>Copy resources (styles and
    scripts)</strong>, and <strong>Transform URLs</strong> toggles 
    <ul>
      <li>The <strong>Transform URLs</strong> toggle transforms all current
        URIs into relative URIs when possible. Of course, if the document is
        saved in a local file and URIs point to remote files, URIs will be
        absolute. This ensures that all the links in the document remain
        correct after the copy. 
        <p class="Note">If you save the document locally to publish it by ftp
        just because your provider or your Webmaster doesn't allow you to use
        the PUT method, you must disable this option to not alterate links
        computed when the document was on the http server.</p>
        <p></p>
      </li>
      <li>The <strong>Copy Images</strong> toggle indicates whether the
        images and objects embedded in the current document must be copied
        along with the document to a new location. You have to keep this
        switch on when you want to generate a complete copy of the document. 
        <p>When images and objects are copied, Amaya updates automatically
        all <strong>src</strong> and <strong>data</strong> attributes to
        point new locations. New locations will be relative URIs.</p>
      </li>
      <li>The <strong>Copy resources (styles and scripts)</strong> toggle
        indicates whether styles (including imported style sheets and images)
        and scripts embedded in the current document must be copied along
        with the document to a new location. You have to keep this switch on
        when you want to generate a complete copy of the document. 
        <p>When these resources are copied, Amaya updates automatically all
        links and processing instructions to point to these new resource
        locations. New locations will be relative URIs.<br />
        </p>
      </li>
    </ul>
  </li>
</ul>
<ul>
  <li>The <strong>Document format</strong> offers a choice between
    <strong>HTML</strong>, <strong>XML</strong> (XHTML) and
    <strong>Text</strong> for HTML documents. This submenu is not shown when
    saving a SVG, a MathML, a CSS, or any other document type. By default,
    Amaya keeps the current document format. 
    <p>The entry <strong>Text</strong> removes the HTML mark-up and replaces
    it by spaces, newlines, and so on.</p>
  </li>
</ul>
<ul>
  <li>The <strong>Charset</strong> field allows one to choose the charset of
    the document between a proposed list. This option only works with
    documents that support the notion of charset, such as HTML and XML ones,
    but it's not proposed when saving from the source view. This option is
    available when saving both remote and local documents. 
    <p class="Note">Very often the charset of Web documents is controlled by
    the server. It depends either on the document suffix (html, xml, xhtml,
    svg, mml), or on instructions given in the <code>.htaccess</code>
    file.</p>
  </li>
</ul>
<ul>
  <li>The <strong>Mime Type</strong> field allows one to select the MIME type
    of the document. If the MIME type you're looking for is not listed, you
    can type it in yourself. This button is only active when saving a
    document to a server (local file systems don't store the MIME metadata
    information.).</li>
</ul>
<ul>
  <li>The <strong>Where to save images</strong> field allows you to give the
    directory where images and objects have to be saved. When the
    <strong>Copy Images</strong> button is selected, this field is
    initialized with the name of the saved document directory.</li>
  <li>The <strong>Where to save resources</strong> field allows you to give
    the directory where style sheets and scripts have to be saved. When the
    <strong>Copy resources (styles and scripts)</strong> button is selected,
    this field is initialized with the name of the saved document
  directory.</li>
</ul>

<p>Three buttons complete this dialog:</p>
<ul>
  <li>The <strong>Save</strong> button starts the process of transforming the
    document. 
    <p class="Note">When saving to a remote location, check that the
    http_proxy is not set, or that the proxy server and the target server are
    configured to work with the PUT method.</p>
    <p></p>
  </li>
  <li>The <strong>Clear</strong> button removes the current contents of
    "Where to save ..." fields.<br />
  </li>
  <li>The <strong>Cancel</strong> button terminates the command.</li>
</ul>

<h3 id="Saving">Saving and characters encoding (charset)</h3>

<p>Three standard encodings are considered:</p>
<ul>
  <li><code>us-ascii</code> is a 7-bit code that represents 96 printable
    characters (positions 32 through 127 decimal).</li>
  <li><code>iso-8859-1</code> is a 8-bit code that represents the same
    characters as <code>us-ascii</code>, at the same positions, plus 95
    additional printable characters.</li>
  <li><code>utf-8</code> is a variable length encoding scheme for the
    Universal Character Set - UCS (ISO10646 aka Unicode). UCS represents
    thousands of characters. Note that the 96 first characters have the same
    positions in UCS as in <code>us-ascii</code> (and then as in
    <code>iso-8859-1</code>).</li>
</ul>

<p>If an XML or HTML document contains a character that is not available in
the character set (charset) available with the encoding, a special
representation is required. XML offers two such representations of
characters:</p>
<ol>
  <li>Character references represent the position (in decimal or hexadecimal)
    of the character in the UCS. For example, the greek letter <em>alpha</em>
    is represented as <code>&amp;#x3b1;</code> (hexadecimal) or
    <code>&amp;#945;</code> (decimal)</li>
  <li>Entity references use a name to represent a content (in that case a
    character). For example the greek letter <em>alpha</em> may be
    represented as <code>&amp;alpha;</code></li>
</ol>

<p>Character references may be used in any XML or HTML document, but entity
references are allowed only if the document itself contains a means to
resolve the name.</p>

<p>Entity name resolution is provided by the Document type definition which
refers to the DTD where names and their associated contents are defined.
Practically, this means that you can use entity references only if the
<code>&lt;!DOCTYPE ...&gt;</code> is present and refers to a DTD that defines
the names you use.</p>

<p>With that in mind, it is easier to understand how Amaya works. By default,
Amaya preserves the initial encoding of the document, that is the encoding
that was associated with the document at loading time. You can check this
encoding with command <strong>File/Document Information</strong> (Charset
field). The <strong>Save</strong> command saves the document with that
encoding, while the <strong>Save As</strong> command allows you to choose
another encoding (Charset field).</p>

<p>When saving a document (<strong>Save</strong> or <strong>Save As</strong>
commands), all characters that are available in the charset of the encoding
are just written using the encoding. Only the other characters are written
using character or entity references. The choice between these two options is
made according to the <code>doctype</code>. If there is a
<code>doctype</code> that refers to a DTD that defines a name for the
character, an entity reference is used (i.e. a name), otherwise Amaya
generates a character reference in hexadecimal.</p>

<p class="Note">Note: the <strong>File/Change The Document Type</strong>
command allows you to associate, to change or to remove the
<code>doctype</code> of a document at any time. This allows you to generate
either character references or entity references.</p>

<h3 id="Saving1">Saving Documents as Text</h3>

<p>You san save your document as text using the <strong>Save As</strong>
command from the <strong>File</strong> menu. HTML mark-up is replaced by
spaces, new lines, and so on. A list of all URIs used in the document is
appended to the file.</p>

<p class="ProcedureCaption">To save your document as text:</p>
<ol>
  <li>Choose <strong>Save As</strong> from the <strong>File</strong> menu to
    open the <strong>Save As</strong> dialog. 
    <p></p>
  </li>
  <li>Click the <strong>Text</strong> button in the <strong>Document
    format</strong> section to save the document in text format to a local
    file.</li>
</ol>
</div>
</body>
</html>
